<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Orders</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f5f5f5;
      min-height: 100vh;
    }
    .navbar {
      background: #cf730a;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }
    .navbar h1 { color: white; font-size: 22px; margin: 0; }
    .nav-links {
      list-style: none;
      display: flex;
      gap: 20px;
      margin: 0;
      padding: 0;
    }
    .nav-links a { color: white; text-decoration: none; font-weight: 500; }
    .container {
      max-width: 900px;
      margin: auto;
      padding: 30px;
    }
    h2 { text-align: center; color: #2e7d32; }
    .order {
      background: white;
      margin-bottom: 15px;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    .order strong { color: #cf730a; }
  </style>
</head>
<body>

  <!-- NAVBAR -->
  <nav class="navbar">
    <h1>Green Fields</h1>
    <ul class="nav-links">
      <li><a href="farmers.html">Home</a></li>
      <li><a href="sellers.html">Sell Products</a></li>
      <li><a href="buyers.html">Buy Products</a></li>
      <li><a href="orders.html">My Orders</a></li>
      <li><a href="logout">Logout</a></li>
    </ul>
  </nav>

  <!-- ORDERS LIST -->
  <div class="container">
    <h2>ðŸ“¦ My Orders</h2>
    <div id="ordersList"></div>
  </div>

  <script>
    async function loadOrders() {
      try {
        const res = await fetch("/orders");
        const orders = await res.json();
        const list = document.getElementById("ordersList");

        if (!orders.length) {
          list.innerHTML = "<p style='text-align:center; color:#888;'>No orders yet.</p>";
          return;
        }

        list.innerHTML = orders.map(o => `
          <div class="order">
            <p><strong>Product:</strong> ${o.productName}</p>
            <p><strong>Seller:</strong> ${o.sellerName}</p>
            <p><strong>Email:</strong> ${o.sellerEmail}</p>
            <p><strong>Phone:</strong> ${o.sellerPhone}</p>
            <small>Ordered on: ${new Date(o.createdAt).toLocaleString()}</small>
          </div>
        `).join("");
      } catch (err) {
        console.error("Error loading orders:", err);
      }
    }
    loadOrders();
  </script>

</body>
</html>
